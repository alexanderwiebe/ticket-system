<mat-card>
    <mat-card-title>
        <h2 *ngIf="ticket else newTicket">Edit ticket</h2>
        <ng-template #newTicket>
            <h2>Add ticket</h2>
        </ng-template>
    </mat-card-title>


    <div [formGroup]="form">
        <div>
            <mat-form-field class="form-group">
                <mat-label>description: </mat-label>
                <input matInput type="text" class="form-control"  formControlName="description">
            </mat-form-field>
        </div>
        <div>
            <mat-form-field class="form-group">
                <mat-label>assignee: </mat-label>
                <input matInput type="text" class="form-control" formControlName="assigneeId">
            </mat-form-field>
        </div>
        <div>
            <mat-slide-toggle formControlName="completed">complete</mat-slide-toggle>
        </div>
    </div>
    <div *ngIf="formError">
        <span>Please correct form before trying to complete / save</span>
    </div>
    <button mat-flat-button (click)="cancel()">Cancel</button>
    <button mat-flat-button *ngIf="ticket?.id" color="accent" (click)="complete()">Complete</button>
    <button mat-flat-button *ngIf="!ticket else update" color="primary" (click)="save()" [disabled]="!form.valid">Save</button>
    <ng-template #update>
        <button mat-flat-button color="primary" (click)="update()" [disabled]="!form.valid">Update</button>
    </ng-template>
</mat-card>
